@top Query { "query(" constraint ("," constraint)* ")" }

@skip { space | Comment }

constraint {
    HeadConstraint |
    FilterConstraint
}

HeadConstraint {
    collection { "collection()" }
}

FilterConstraint {
    filterBy { "filterBy(" FilterConstraint ("," FilterConstraint)* ")" } |
    and { "and(" FilterConstraint ("," FilterConstraint)* ")" } |
    attributeEquals { "attributeEquals()" }
}

@tokens {
    Comment { "//" ![\n]* }

    space { $[ \t\n\r]+ }

    "(" ")"
}

@detectDelim